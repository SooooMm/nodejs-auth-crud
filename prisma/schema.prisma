generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Users {
  id        Int      @id @default(autoincrement()) @map("id")
  email     String   @unique @map("email")
  password  String   @map("password")
  createdAt DateTime @default(now()) @map("createdAt")
  updatedAt DateTime @updatedAt @map("updatedAt")

  userInfos UserInfos?
  resumes Resumes[]

  @@map("Users")
}

model UserInfos {
  id        Int      @id @default(autoincrement()) @map("id")
  userId    Int      @unique @map("userId")
  name      String   @map("name")
  role      String   @default("APPLICANT") @map("role") 
  createdAt DateTime @default(now()) @map("createdAt")
  updatedAt DateTime @updatedAt @map("updatedAt")

  user Users @relation(fields: [userId],references: [id],onDelete: Cascade)
  @@map("UserInfos")
}

model Resumes {
  id        Int      @id @default(autoincrement()) @map("id")
  userId    Int      @map("userId")
  title     String   @map("title")
  summary   String   @map("summary")
  status    String   @default("APPLY") @map("status")
  createdAt DateTime @default(now()) @map("createdAt")
  updatedAt DateTime @updatedAt @map("updatedAt")

  user Users @relation(fields: [userId],references: [id],onDelete: Cascade)
  @@map("Resumes")
}

